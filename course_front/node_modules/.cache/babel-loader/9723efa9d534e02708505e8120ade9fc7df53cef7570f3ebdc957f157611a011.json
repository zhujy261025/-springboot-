{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport antd from \"ant-design-vue\";\nimport 'ant-design-vue/dist/antd.css';\nimport axios from \"axios\";\nimport { isEmpty } from \"@/util/Tool\";\ncreateApp(App).use(store).use(router).use(antd).mount('#app');\n// axios 拦截器\n// 请求拦截器\naxios.interceptors.request.use(config => {\n  console.log(\"请求参数：\", config);\n  const token = store.state.user.token;\n  console.log(token);\n  if (!isEmpty(token)) {\n    // 有token 加到请求头\n    config.headers.token = token;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n  console.log(\"返回结果：\", response);\n  return response;\n}, error => {\n  console.log(\"返回错误：\", error);\n  return Promise.reject(error);\n});","map":{"version":3,"names":["createApp","App","router","store","antd","axios","isEmpty","use","mount","interceptors","request","config","console","log","token","state","user","headers","error","Promise","reject","response"],"sources":["E:/WeChat Files/wxid_77r24v1adq6c22/FileStorage/File/2024-11/前端代码/courseweb/course/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport antd from \"ant-design-vue\"\r\nimport 'ant-design-vue/dist/antd.css'\r\nimport axios from \"axios\";\r\nimport {isEmpty} from \"@/util/Tool\";\r\ncreateApp(App).use(store).use(router).use(antd).mount('#app')\r\n// axios 拦截器\r\n// 请求拦截器\r\naxios.interceptors.request.use(\r\n    (config)=>{\r\n\r\n        console.log(\"请求参数：\",config)\r\n        const token = store.state.user.token;\r\n        console.log(token)\r\n        if (!isEmpty(token)){\r\n            // 有token 加到请求头\r\n            config.headers.token = token;\r\n        }\r\n        return config;\r\n    },\r\n    (error)=>{\r\n        return Promise.reject(error)\r\n    }\r\n\r\n)\r\n\r\naxios.interceptors.response.use(\r\n    (response)=>{\r\n        console.log(\"返回结果：\",response)\r\n        return response;\r\n    },\r\n    error => {\r\n        console.log(\"返回错误：\",error)\r\n        return Promise.reject(error)\r\n    }\r\n)"],"mappings":"AAAA,SAASA,SAAS,QAAQ,KAAK;AAC/B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,IAAI,MAAM,gBAAgB;AACjC,OAAO,8BAA8B;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,OAAO,QAAO,aAAa;AACnCN,SAAS,CAACC,GAAG,CAAC,CAACM,GAAG,CAACJ,KAAK,CAAC,CAACI,GAAG,CAACL,MAAM,CAAC,CAACK,GAAG,CAACH,IAAI,CAAC,CAACI,KAAK,CAAC,MAAM,CAAC;AAC7D;AACA;AACAH,KAAK,CAACI,YAAY,CAACC,OAAO,CAACH,GAAG,CACzBI,MAAM,IAAG;EAENC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACF,MAAM,CAAC;EAC3B,MAAMG,KAAK,GAAGX,KAAK,CAACY,KAAK,CAACC,IAAI,CAACF,KAAK;EACpCF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;EAClB,IAAI,CAACR,OAAO,CAACQ,KAAK,CAAC,EAAC;IAChB;IACAH,MAAM,CAACM,OAAO,CAACH,KAAK,GAAGA,KAAK;EAChC;EACA,OAAOH,MAAM;AACjB,CAAC,EACAO,KAAK,IAAG;EACL,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAEJ;AAEDb,KAAK,CAACI,YAAY,CAACY,QAAQ,CAACd,GAAG,CAC1Bc,QAAQ,IAAG;EACRT,OAAO,CAACC,GAAG,CAAC,OAAO,EAACQ,QAAQ,CAAC;EAC7B,OAAOA,QAAQ;AACnB,CAAC,EACDH,KAAK,IAAI;EACLN,OAAO,CAACC,GAAG,CAAC,OAAO,EAACK,KAAK,CAAC;EAC1B,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}