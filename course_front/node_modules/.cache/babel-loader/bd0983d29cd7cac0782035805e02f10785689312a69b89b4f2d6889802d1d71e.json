{"ast":null,"code":"import { computed, ref } from \"vue\";\nimport axios from \"axios\";\nimport { message } from \"ant-design-vue\";\nimport store from \"@/store\";\nimport { DownOutlined } from '@ant-design/icons-vue';\nexport default {\n  name: \"Header\",\n  components: {\n    DownOutlined\n  },\n  setup() {\n    // 登录成功后 保存返回来的用户对象\n    const user = computed(() => store.state.user);\n\n    // 退出登录\n    const loginOut = () => {\n      console.log(\"loginout\");\n      // 发送请求\n      axios.get(\"api/loginOut/\" + user.value.token).then(res => {\n        if (res.data.code === \"200\") {\n          store.commit(\"setUser\", {});\n          message.success(res.data.msg);\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n    return {\n      user,\n      loginOut\n    };\n  }\n};","map":{"version":3,"mappings":"AAyBA,SAAQA,QAAQ,EAAEC,GAAG,QAAO,KAAI;AAChC,OAAOC,KAAI,MAAO,OAAO;AACzB,SAAQC,OAAO,QAAO,gBAAgB;AACtC,OAAOC,KAAI,MAAO,SAAS;AAC3B,SAASC,YAAW,QAAS,uBAAuB;AACpD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE;IACVF;EACF,CAAC;EAEDG,KAAK,GAAE;IAEL;IACA,MAAMC,IAAG,GAAIT,QAAQ,CAAC,MAAKI,KAAK,CAACM,KAAK,CAACD,IAAG,CAAE;;IAI5C;IACA,MAAME,QAAO,GAAI,MAAI;MACnBC,OAAO,CAACC,GAAG,CAAC,UAAU;MACtB;MACAX,KAAK,CAACY,GAAG,CAAC,eAAe,GAACL,IAAI,CAACM,KAAK,CAACC,KAAK,CAAC,CAACC,IAAI,CAACC,GAAG,IAAE;QACpD,IAAIA,GAAG,CAACC,IAAI,CAACC,IAAG,KAAM,KAAK,EAAC;UAC1BhB,KAAK,CAACiB,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC;UAC1BlB,OAAO,CAACmB,OAAO,CAACJ,GAAG,CAACC,IAAI,CAACI,GAAG,CAAC;QAC/B,CAAC,MAAK;UACJpB,OAAO,CAACqB,KAAK,CAACN,GAAG,CAACC,IAAI,CAACI,GAAG,CAAC;QAC7B;MACF,CAAC;IACH;IAEA,OAAO;MACLd,IAAI;MACJE;IACF;EACF;AACF","names":["computed","ref","axios","message","store","DownOutlined","name","components","setup","user","state","loginOut","console","log","get","value","token","then","res","data","code","commit","success","msg","error"],"sourceRoot":"","sources":["D:\\course\\src\\components\\Header.vue"],"sourcesContent":["<template>\r\n  <div style=\"height: 50px;line-height: 50px;border-bottom: 1px solid #ccc; display: flex \"  >\r\n    <div style=\"width: 300px; padding-left: 30px; font-weight: bold; color: dodgerblue\" >课程信息管理</div>\r\n    <div style=\"flex: 1\" ></div>\r\n    <div style=\"width: 150px\" >\r\n      <a-dropdown>\r\n        <a class=\"ant-dropdown-link\" @click.prevent>\r\n          {{user.id }}\r\n          <DownOutlined  />\r\n        </a>\r\n        <template #overlay>\r\n          <a-menu>\r\n            <a-menu-item>\r\n              <a @click=\"loginOut\" >退出登录</a>\r\n            </a-menu-item>\r\n          </a-menu>\r\n        </template>\r\n      </a-dropdown>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport {computed, ref} from \"vue\"\r\nimport axios from \"axios\";\r\nimport {message} from \"ant-design-vue\";\r\nimport store from \"@/store\";\r\nimport { DownOutlined } from '@ant-design/icons-vue';\r\nexport default {\r\n  name: \"Header\",\r\n  components: {\r\n    DownOutlined,\r\n  },\r\n\r\n  setup(){\r\n\r\n    // 登录成功后 保存返回来的用户对象\r\n    const user = computed(()=> store.state.user )\r\n\r\n\r\n\r\n    // 退出登录\r\n    const loginOut = ()=>{\r\n      console.log(\"loginout\")\r\n      // 发送请求\r\n      axios.get(\"api/loginOut/\"+user.value.token).then(res=>{\r\n        if (res.data.code === \"200\"){\r\n          store.commit(\"setUser\", {})\r\n          message.success(res.data.msg);\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    }\r\n\r\n    return {\r\n      user,\r\n      loginOut\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}