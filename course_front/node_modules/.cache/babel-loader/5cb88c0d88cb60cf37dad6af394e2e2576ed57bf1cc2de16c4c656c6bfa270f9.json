{"ast":null,"code":"import { message } from 'ant-design-vue';\nimport axios from \"axios\";\nimport { onMounted, ref } from \"vue\";\nexport default {\n  name: \"Course\",\n  setup() {\n    const course = ref();\n    const columns = ref([{\n      title: '课程编号',\n      dataIndex: 'id',\n      key: 'id'\n    }, {\n      title: '课程名称',\n      dataIndex: 'coursename',\n      key: \"coursename\"\n    }, {\n      title: '授课教师',\n      dataIndex: 'courseteacher',\n      key: 'courseteacher'\n    }, {\n      title: '学生数量',\n      dataIndex: 'coursenum',\n      key: \"coursenum\"\n    }, {\n      title: '上课时间',\n      dataIndex: 'coursedate',\n      key: \"coursedate\"\n    }, {\n      title: '上课教室',\n      dataIndex: 'courseroom',\n      key: \"courseroom\"\n    }, {\n      title: '操作',\n      key: 'action'\n    }]);\n\n    // 查询方法\n    const load = () => {\n      console.log(\"load \");\n      axios.get(\"api/queryCourse\", {}).then(res => {\n        console.log(res);\n        if (res.data.code === \"200\") {\n          course.value = res.data.date;\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n\n    // 表单\n    const teacher = ref([]);\n    const formState = ref({});\n    const visible = ref(false); // 对话框的开关\n    const confirmLoading = ref(false); // 确认按钮的加载\n\n    // 查询方法\n    const queryTeacher = () => {\n      axios.get(\"api/queryTeacher\", {}).then(res => {\n        console.log(res);\n        if (res.data.code === \"200\") {\n          teacher.value = res.data.date;\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n    const getTeacher = courseteacher => {\n      for (let i = 0; i < teacher.value.length; i++) {\n        const t = teacher.value[i];\n        if (courseteacher === t.id) {\n          return t.name;\n        }\n      }\n    };\n\n    // 编辑的点击事件\n    const edit = record => {\n      // JSON.stringify(record) 转为为字符串\n      // JSON.parse(“str“) 转为json对象\n\n      formState.value = JSON.parse(JSON.stringify(record));\n      formState.value.id1 = record.id;\n      visible.value = true;\n    };\n\n    // 新增的点击事件\n    const add = () => {\n      formState.value = {}; // 清空表单数据\n      visible.value = true; // 打开对话框\n    };\n\n    // 对话框ok时会调用\n    const handleOk = () => {\n      confirmLoading.value = true; // 开启确认按钮的加载\n      formState.value.id = formState.value.id1;\n      // 发送请求\n      axios.post(\"api/saveCourse\", formState.value).then(res => {\n        console.log(res);\n        confirmLoading.value = false; // 关闭确认按钮的加载\n        visible.value = false; // 关闭对话框\n        if (res.data.code === \"200\") {\n          load();\n          message.success(res.data.msg);\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n\n    // 删除的点击事件\n    const del = id => {\n      // 发送请求\n      axios.delete(\"api/delCourse/\" + id).then(res => {\n        console.log(res);\n        if (res.data.code === \"200\") {\n          // 重新加载数据\n          load();\n          message.success(res.data.msg);\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n\n    // 排课\n    const arrangingformState = ref({});\n    const arrangingVisible = ref(false); // 对话框的开关\n    const arrangingConfirmLoading = ref(false); // 确认按钮的加载\n\n    const arranging = () => {\n      arrangingVisible.value = true;\n    };\n\n    // 排课\n    const arrangingHandleOk = () => {\n      arrangingConfirmLoading.value = true; // 开启确认按钮的加载\n\n      axios.post(\"api/arranging\", arrangingformState.value).then(res => {\n        arrangingVisible.value = false;\n        arrangingConfirmLoading.value = false;\n        console.log(res);\n        if (res.data.code === \"200\") {\n          load();\n          message.success(res.data.msg);\n          arrangingformState.value = {};\n        } else {\n          message.error(res.data.msg);\n        }\n      });\n    };\n    onMounted(() => {\n      queryTeacher();\n      load();\n    });\n    return {\n      columns,\n      course,\n      getTeacher,\n      // 表单\n      labelCol: {\n        style: {\n          width: '130px'\n        }\n      },\n      wrapperCol: {\n        span: 14\n      },\n      formState,\n      visible,\n      confirmLoading,\n      edit,\n      add,\n      handleOk,\n      del,\n      teacher,\n      // 排课\n      arranging,\n      arrangingVisible,\n      arrangingConfirmLoading,\n      arrangingHandleOk,\n      arrangingformState\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["message","axios","onMounted","ref","name","setup","course","columns","title","dataIndex","key","load","console","log","get","then","res","data","code","value","date","error","msg","teacher","formState","visible","confirmLoading","queryTeacher","getTeacher","courseteacher","i","length","t","id","edit","record","JSON","parse","stringify","id1","add","handleOk","post","success","del","delete","arrangingformState","arrangingVisible","arrangingConfirmLoading","arranging","arrangingHandleOk","labelCol","style","width","wrapperCol","span"],"sourceRoot":"","sources":["D:\\course\\src\\views\\Course.vue"],"sourcesContent":["<template>\r\n\r\n<!--  <a-table :dataSource=\"teacher\" :columns=\"columns\" />-->\r\n<!--        表格-->\r\n  <div  style=\"margin: 15px; width: 1000px\">\r\n\r\n\r\n    <a-button type=\"primary\" @click=\"add\" >新增</a-button> &nbsp;&nbsp;\r\n    <a-button type=\"primary\" @click=\"arranging\" >排课</a-button>\r\n\r\n\r\n    <a-table :dataSource=\"course\" :columns=\"columns\" :pagination=\"false\">\r\n    <template #bodyCell=\"{ column, record }\">\r\n\r\n      <template  v-if=\"column.key === 'courseteacher'\">\r\n        {{ getTeacher(record.courseteacher) }}\r\n      </template>\r\n\r\n      <!--        操作-->\r\n      <template v-else-if=\"column.key === 'action'\">\r\n        <a-space>\r\n\r\n          <a-button type=\"primary\" @click=\"edit(record)\">编辑</a-button>\r\n          <a-popconfirm\r\n              title=\"是否确认删除?\"\r\n              ok-text=\"是\"\r\n              cancel-text=\"否\"\r\n              @confirm=\"del(record.id)\"\r\n          >\r\n            <a-button type=\"primary\" danger>删除</a-button>\r\n          </a-popconfirm>\r\n        </a-space>\r\n      </template>\r\n\r\n    </template>\r\n  </a-table>\r\n  </div>\r\n\r\n\r\n  <a-modal\r\n      v-model:visible=\"visible\"\r\n      title=\"表单\"\r\n      :confirm-loading=\"confirmLoading\"\r\n      @ok=\"handleOk\"\r\n  >\r\n    <!--      <p> 表单 </p>-->\r\n    <a-form :model=\"formState\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\">\r\n      <a-form-item label=\"课程编号\" v-show=\"!!formState.id\"  >\r\n        <a-input v-model:value=\"formState.id1\" :disabled=\"!!formState.id\" />\r\n      </a-form-item>\r\n\r\n      <a-form-item label=\"课程名称\">\r\n        <a-input v-model:value=\"formState.coursename\" />\r\n      </a-form-item>\r\n\r\n\r\n      <a-form-item label=\"授课教师\"  >\r\n\r\n        <a-select\r\n            ref=\"select\"\r\n            v-model:value=\"formState.courseteacher\"\r\n        >\r\n          <a-select-option v-for=\"t in teacher\"  :key=\"t.id\" :value=\"t.id\">\r\n            {{ t.name }}\r\n          </a-select-option>\r\n\r\n        </a-select>\r\n\r\n      </a-form-item>\r\n      <a-form-item label=\"学生数量\"  >\r\n        <a-input v-model:value=\"formState.coursenum\"  />\r\n      </a-form-item>\r\n\r\n    </a-form>\r\n\r\n  </a-modal>\r\n\r\n  <a-modal\r\n      v-model:visible=\"arrangingVisible\"\r\n      title=\"排课\"\r\n      :confirm-loading=\"arrangingConfirmLoading\"\r\n      @ok=\"arrangingHandleOk\"\r\n  >\r\n\r\n    <a-form\r\n        :model=\"arrangingformState\"\r\n        name=\"basic\"\r\n        :label-col=\"{ span: 8 }\"\r\n        :wrapper-col=\"{ span: 12 }\"\r\n        autocomplete=\"off\"\r\n    >\r\n    <a-form-item label=\"课程名称\" >\r\n      <a-select\r\n          ref=\"select\"\r\n          v-model:value=\"arrangingformState.id\"\r\n      >\r\n        <a-select-option v-for=\"c in course\"  :key=\"c.id\" :value=\"c.id\">\r\n          {{ c.coursename }}\r\n        </a-select-option>\r\n\r\n      </a-select>\r\n    </a-form-item>\r\n\r\n    <a-form-item  label=\"上课日期\" >\r\n      <a-select\r\n          mode=\"multiple\"\r\n          ref=\"select\"\r\n          v-model:value=\"arrangingformState.date1\"\r\n      >\r\n        <a-select-option value=\"星期一\"> 星期一</a-select-option>\r\n        <a-select-option value=\"星期二\"> 星期二</a-select-option>\r\n        <a-select-option value=\"星期三\"> 星期三</a-select-option>\r\n        <a-select-option value=\"星期四\"> 星期四</a-select-option>\r\n        <a-select-option value=\"星期五\"> 星期五</a-select-option>\r\n        <a-select-option value=\"星期六\"> 星期六</a-select-option>\r\n        <a-select-option value=\"星期日\"> 星期日</a-select-option>\r\n\r\n      </a-select>\r\n    </a-form-item>\r\n    <a-form-item  label=\"上课时间\" >\r\n      <a-select\r\n          mode=\"multiple\"\r\n          ref=\"select\"\r\n          v-model:value=\"arrangingformState.date2\"\r\n      >\r\n        <a-select-option value=\"1-2\"> 1-2</a-select-option>\r\n        <a-select-option value=\"3-4\"> 3-4</a-select-option>\r\n        <a-select-option value=\"5-6\"> 5-6</a-select-option>\r\n        <a-select-option value=\"7-8\"> 7-8</a-select-option>\r\n        <a-select-option value=\"9-10\"> 9-10</a-select-option>\r\n        <a-select-option value=\"11-12\"> 11-12</a-select-option>\r\n\r\n      </a-select>\r\n    </a-form-item>\r\n    <a-form-item  label=\"上课教室\" >\r\n      <a-select\r\n          mode=\"multiple\"\r\n          ref=\"select\"\r\n          v-model:value=\"arrangingformState.courseroom\"\r\n      >\r\n        <a-select-option value=\"A教室\"> A教室</a-select-option>\r\n        <a-select-option value=\"B教室\"> B教室</a-select-option>\r\n        <a-select-option value=\"C教室\"> C教室</a-select-option>\r\n        <a-select-option value=\"D教室\"> D教室</a-select-option>\r\n\r\n      </a-select>\r\n    </a-form-item>\r\n\r\n\r\n    </a-form>\r\n\r\n\r\n  </a-modal>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport { message } from 'ant-design-vue';\r\nimport axios from \"axios\"\r\nimport {onMounted, ref} from \"vue\";\r\nexport default {\r\n  name: \"Course\",\r\n  setup(){\r\n    const course = ref();\r\n    const columns = ref([\r\n      {\r\n        title: '课程编号',\r\n        dataIndex: 'id',\r\n        key:'id'\r\n      },\r\n      {\r\n        title: '课程名称',\r\n        dataIndex: 'coursename',\r\n        key:\"coursename\"\r\n      },\r\n      {\r\n        title: '授课教师',\r\n        dataIndex: 'courseteacher',\r\n        key: 'courseteacher'\r\n      },\r\n      {\r\n        title: '学生数量',\r\n        dataIndex: 'coursenum',\r\n        key:\"coursenum\"\r\n      },\r\n      {\r\n        title: '上课时间',\r\n        dataIndex: 'coursedate',\r\n        key:\"coursedate\"\r\n      },\r\n      {\r\n        title: '上课教室',\r\n        dataIndex: 'courseroom',\r\n        key:\"courseroom\"\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'action'\r\n      }\r\n\r\n\r\n    ]);\r\n\r\n    // 查询方法\r\n    const load = ()=>{\r\n      console.log(\"load \")\r\n      axios.get(\"api/queryCourse\",{}).then(res=>{\r\n        console.log(res)\r\n        if (res.data.code === \"200\"){\r\n          course.value = res.data.date\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    }\r\n\r\n\r\n\r\n\r\n    // 表单\r\n    const teacher = ref([]);\r\n    const formState = ref({});\r\n    const visible = ref(false);  // 对话框的开关\r\n    const confirmLoading = ref(false); // 确认按钮的加载\r\n\r\n\r\n    // 查询方法\r\n    const queryTeacher = ()=>{\r\n      axios.get(\"api/queryTeacher\",{}).then(res=>{\r\n        console.log(res)\r\n        if (res.data.code === \"200\"){\r\n          teacher.value = res.data.date\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    }\r\n\r\n    const getTeacher = (courseteacher)=>{\r\n      for (let i = 0; i < teacher.value.length; i++){\r\n        const t = teacher.value[i];\r\n        if (courseteacher === t.id){\r\n          return t.name;\r\n        }\r\n      }\r\n    }\r\n\r\n    // 编辑的点击事件\r\n    const edit = (record) => {\r\n      // JSON.stringify(record) 转为为字符串\r\n      // JSON.parse(“str“) 转为json对象\r\n\r\n      formState.value = JSON.parse(JSON.stringify(record));\r\n      formState.value.id1 = record.id\r\n      visible.value = true;\r\n    };\r\n\r\n    // 新增的点击事件\r\n    const add = () => {\r\n\r\n      formState.value = {}; // 清空表单数据\r\n      visible.value = true; // 打开对话框\r\n    };\r\n\r\n\r\n    // 对话框ok时会调用\r\n    const handleOk = () => {\r\n      confirmLoading.value = true;  // 开启确认按钮的加载\r\n      formState.value.id = formState.value.id1\r\n      // 发送请求\r\n      axios.post(\"api/saveCourse\",formState.value).then(res=>{\r\n        console.log(res)\r\n        confirmLoading.value = false; // 关闭确认按钮的加载\r\n        visible.value = false;  // 关闭对话框\r\n        if (res.data.code === \"200\"){\r\n          load()\r\n          message.success(res.data.msg);\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    }\r\n\r\n    // 删除的点击事件\r\n    const del = (id) => {\r\n      // 发送请求\r\n      axios.delete(\"api/delCourse/\" + id).then(res=>{\r\n        console.log(res)\r\n        if (res.data.code === \"200\"){\r\n          // 重新加载数据\r\n          load()\r\n          message.success(res.data.msg);\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    };\r\n\r\n\r\n    // 排课\r\n    const arrangingformState = ref({});\r\n    const arrangingVisible = ref(false);  // 对话框的开关\r\n    const arrangingConfirmLoading = ref(false); // 确认按钮的加载\r\n\r\n    const arranging = () =>{\r\n      arrangingVisible.value = true;\r\n    }\r\n\r\n    // 排课\r\n    const arrangingHandleOk = () => {\r\n      arrangingConfirmLoading.value = true;  // 开启确认按钮的加载\r\n\r\n      axios.post(\"api/arranging\",arrangingformState.value).then(res=>{\r\n        arrangingVisible.value = false;\r\n        arrangingConfirmLoading.value = false;\r\n        console.log(res)\r\n        if (res.data.code === \"200\"){\r\n          load();\r\n          message.success(res.data.msg);\r\n          arrangingformState.value = {}\r\n        }else {\r\n          message.error(res.data.msg);\r\n        }\r\n      })\r\n    }\r\n\r\n\r\n    onMounted(()=>{\r\n      queryTeacher()\r\n      load()\r\n    })\r\n\r\n    return {\r\n      columns,\r\n      course,\r\n      getTeacher,\r\n\r\n      // 表单\r\n      labelCol: { style: { width: '130px' } },\r\n      wrapperCol: { span: 14 },\r\n      formState,\r\n      visible,\r\n      confirmLoading,\r\n      edit,\r\n      add,\r\n      handleOk,\r\n      del,\r\n      teacher,\r\n\r\n      // 排课\r\n      arranging,\r\n      arrangingVisible,\r\n      arrangingConfirmLoading,\r\n      arrangingHandleOk,\r\n      arrangingformState\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}